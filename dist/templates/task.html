<div class="container" ng-controller='TaskCtrl'>
  <div class="row">
    <div class="col-md-3"></div>
    <div class="col-md-6 task-background">
      <h1 class="list-heading">Tasks</h1>
      <form class="task-submit input-group">
        <input type="text" ng-model="newTask.name" class="form-control">
        <label for="priority">Priority:</label>
        <select name="priority" ng-model="newPriority" ng-options="x.label for x in priority"></select>
        <span class="input-group-btn">
          <input type="submit" ng-click="addNewTask()" class="btn">
        </span>
      </form>
      <ul class="list-group">
        <li ng-repeat="task in tasks | orderBy:'-priority.value'" ng-hide="task.state == 'complete' || task.state == 'expired'" class="list-group-item">
          <div>{{ task.name }}</div>
          <div>{{ task.priority.label }}</div>
          <task-state task="task" tasks="tasks"></task-state>
        </li>
      </ul>
    </div>
  </div>
</div>
